@page "/search"
@inject HttpClient httpClient
@rendermode InteractiveServer
<PageTitle>Search</PageTitle>

<section class="search-container">
    <input class="search-input" type="text" id="fname" name="fname">
    <GenreSelection @ref="genreSelectionRef"/>
    <PlatformSelection @ref="platformSelectionRef"/>
    <button @onclick=RequestGenreSelections>Search</button>
</section>

@code {
    [Parameter]
    public string genre { get; set; } = "";
    [Parameter]
    public string platform { get; set; } = "";
    [Parameter]
    public string searchString { get; set; } = "";
    private List<string> selectionGenres { get; set; } = new List<string>();
    private List<string> selectionPlatforms { get; set; } = new List<string>();

    private GenreSelection genreSelectionRef;
    private async Task RequestGenreSelections() {
        selectionGenres = genreSelectionRef.ReturnSelectedList();
        Console.WriteLine(selectionGenres[0]);
    }

    private PlatformSelection platformSelectionRef;
    private async Task RequestPlatformSelections() {
        selectionPlatforms = platformSelectionRef.ReturnSelectedList();
        Console.WriteLine(selectionPlatforms[0]);
    }

    protected override async Task OnInitializedAsync()
    {

    }
}